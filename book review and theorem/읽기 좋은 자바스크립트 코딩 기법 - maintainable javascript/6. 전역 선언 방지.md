# 6. 전역 선언 방지

> 1. 전역의 문제점
> 2. 실수에 의한 전역 선언
> 3. One-Global 접근법
> 4. Zero-Global 접근법

## 1. 전역의 문제점

특별한 경우가 아니라면 전역 선언은 왠만하면 추천하지 않는다 다음과 같은 문제점들이 일어날 수가 있다.

1. 이름 충돌 문제

   ```javascript
   function sayColor() {
       alert(color);
   }
   ```

   위 코드에서 color은 어디서 왔죠? 전역변수로 선언이 되었을 경우 찾기도 어려울뿐더러 에러가 날 시에는 상황파악하기가 어렵다는 것이 있다.

2. 변경에 취약한 문제

   위 코드처럼 함수내에서 부르거나 해당 값을 변경시에 color값 자체가 바뀌고 그러면 다른 곳에서도 color을 전역으로 참고하고 있다면 매우 보기 어려워질 것이다

3. 테스트하기 어려워지는 문제

   변수 파악이 어려워 테스트하기도 어려워 진다!

## 2. 실수에 의한 전역 선언

의도치 않게 전역도 자주 선언될 수가 있다. 아래 코드를 보자

```javascript
function doSomething() {
    var count = 10;
    	title =  "Maintainable Javascript";
}
```

위 코드의 의도는 함수내의 지역변수로 title을 선언하고 싶었겠지만 `,`가 아닌 `;`로 count 선언하는 줄을 끝내버려서 title은 전역변수로 선언이 된다. 자바스크립트의 특징중 하나지마 이런 실수가 자주 일어날 수가 있다.

툴(`JSLint`,`JSHint`)을 이용하거나 strict모드로 해당 경우들은 처리가 가능하다

## 3. One-Global 접근법

딱 하나의 전역 객체만 두는 것이다. 그리고 그 방법은 아래와 같이 있다

- YUI는 YUI라는 전역 객체를 사용한다
- jQuery는 두 개의 전역 객체를 사용하는데 `$`와 `jQuery`이다.
- Dojo는ㄴ dojo 전역 객체를 사용
- closure라이브러리는 goog 전역 객체를 사용

## 4. Zero-Global 점근법

전역 변수를 전혀 사용하지 앟ㄴ고 자바스크립트를 페이지에 넣는 방법이다.