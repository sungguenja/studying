# 05장 리액트와 상태 관리 라이브러리

> 1. 상태 관리는 왜 필요한가?
> 2. 리액트 훅으로 시작하는 상태 관리

## 1. 상태 관리는 왜 필요한가?

> 상태란?
>
> - UI: 기본적으로 웹 애플리케이션에서 상태라 함은 상호 작용이 가능한 모든 요소의 현재 값을 의미한다
> - URL: 브라우저에서 관리되고 있는 상태값으로, 여기에도 우리가 참고할 만한 상태가 존재할 수 있다
> - 폼(form): 폼에도 상태가 존재한다. 로딩중, 제출됐는지, 접근이 불가능한지 등등
> - 서버에서 가져온 값: 클라이언트에서 서버로 요청을 통해 가져온 값도 상태로 볼 수 있다. 대표적으로 API 요청이 있다

1. 리액트 상태 관리의 역사
   - 리액트는 단순히 사용자 인터페이스를 만들기 위한 라이브러리일 뿐이고, 그 이상의 기능을 제공하지 않고 있다.
   - 따라서 상태를 관리하는 방법도 개발자에 따라, 시간에 따라 차이가 있다
   - FLUX 패턴
     - 데이터 흐름을 단방향으로 하는 것
     - action: 어떠한 작업을 처리할 액션과 그 액션 발생 시 함께 포함시킬 데이터를 의미한다. 액션 타입과 데이터를 각각 정의해 이를 디스패처로 보낸다
     - 디스패처: 액션을 스토어에 보내는 역할을 한다. 콜백 함수 형태로 앞서 액션이 정의한 타입과 데이터를 모두 스토어에 보낸다
     - 스토어: 여기에서 실제 상태에 따른 값과 상태를 변경할 수 있는 메서드를 가지고 있다. 액션의 타입에 따라 어떻게 이를 변경할지가 정의돼 있다
     - 뷰: 리액트의 컴포넌트에 해당하는 부분으로, 스토어에서 만들어진 데이터를 가져와 화면을 렌더링하는 역할을 한다. 또한 뷰에서도 사용자의 입력이나 행위에 따라 상태를 업데이트하고자 할 수 있을 것이다. 이 경우에는 다음 그림처럼 뷰에서 액션을 호출하는 구조로 구성된다.
   - Redux
     - 단방향 데이터 흐름이 점점 두각을 드러내던 와중에 등장한 것이 바로 리덕스
     - Flux 구조를 구현하기 위해 만들어진 라이브러리 중 하나였다
     - 리덕스는 하나의 상태 객체를 스토어에 저장해 두고, 이 객체를 업데이트하는 작업을 디스패치해 업데이트를 수행한다.
     - 이러한 작업은 reducer 함수로 발생시킬 수 있는데 이 함수의 실행은 웹 애플리케이션 상태에 대한 완전히 새로운 복사본을 반환한 다음, 애플리케이션에 이 새롭게 만들어진 상태를 전파하게 된다
   - Context API와 useContext
   - 훅의 탄생, 그리고 react query와 swr
     - useState가 등장했다
     - 이 여파로 react query와 swr이 등장했다.
     - 두 라이브러리는 모두 외부에서 데이터를 불러오는 fetch를 관리하는 데 특화된 라이브러리지만, API 호출에 대한 상태를 관리하고 있기 때문에 HTTP 요청에 특화된 상태 관리 라이브러리라 볼 수 있다
   - recoil, zustand, jotai, valtio에 이르기까지
