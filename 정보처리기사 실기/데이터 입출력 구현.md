# 데이터 입출력 구현

> 1. 논리 데이터 저장소 확인
> 2. 물리 데이터 저장소 설계
> 3. 데이터 조작 프로시저 작성
> 4. 데이터 조작 프로시저 최적화

1. 논리 데이터 저장소 확인

   - 정규화

     관계형 데이터베이스의 설계에서 중복을 최소화하여 데이터를 구조화하는 프로세스이다.

     - 이상현상

       데이터의 중복성으로 인해 릴레이션을 조작할 때 발생하는 비합리적 현상이다.

       삽입, 삭제, 갱신 이상이 있다.

     - 정규화의 단계

       1. 1차 정규화: 원자 값으로 구성

          속성에 2개 이상 값을 가지고 있는 경우 원자값이 아니기 때문에 속성 1개만 가지도록 저장하면 1차 정규화이다.

       2. 2차 정규화: 부분함수 종속 제거

          부분관계를 분리하는 작업

          > 정규화 전
          >
          > | 고객 명 | 서비스 이름 | 서비스 가격 | 서비스 이용 기간 |
          > | ------- | ----------- | ----------- | ---------------- |
          > |         |             |             |                  |
          >
          > 정규화 후
          >
          > | 고객 명 | 서비스 이름 | 서비스 이용기간 |
          > | ------- | ----------- | --------------- |
          > |         |             |                 |
          >
          > | 서비스 이름 | 서비스 가격 |
          > | ----------- | ----------- |
          > |             |             |

       3. 3차 정규화: 이행함수 종속 제거

          > 정규화 전
          >
          > | 책번호 | 도서 이름 | 도서가격 | 출판사 | 홈페이지 |
          > | ------ | --------- | -------- | ------ | -------- |
          > |        |           |          |        |          |
          >
          > 정규화 후
          >
          > | 책 번호 | 도서 이름 | 도서 가격 | 출판사 |
          > | ------- | --------- | --------- | ------ |
          > |         |           |           |        |
          >
          > | 출판사 | 홈페이지 |
          > | ------ | -------- |
          > |        |          |

       4. 보이스 코드 정규화: 결정자 함수이면서 후보키가 아닌 것 제거

          > 정규화 전
          >
          > | 학번 | 과목명 | 교수명 |
          > | ---- | ------ | ------ |
          > |      |        |        |
          >
          > 정규화 후
          >
          > | 학번 | 교수명 |
          > | ---- | ------ |
          > |      |        |
          >
          > | 교수명 | 과목명 |
          > | ------ | ------ |
          > |        |        |

       5. 4차 정규화: 다치(다중 값) 종속성 제거

          > 정규화 전
          >
          > | 개발자 | 자격증 | 언어 |
          > | ------ | ------ | ---- |
          > |        |        |      |
          >
          > 정규화 후
          >
          > | 개발자 | 자격증 |
          > | ------ | ------ |
          > |        |        |
          >
          > | 개발자 | 언어 |
          > | ------ | ---- |
          > |        |      |

       6. 5차 정규화: 조인 종속성 제거

          > 개발자 <->자격증 <-> 언어 <-> 개발자
          >
          > 위와 같은 상태를 아래와 같이 쪼개면 5차 정규화다
          >
          > 개발자 - 자격증
          >
          > 개발자 - 언어
          >
          > 자격증 - 언어

2. 물리 데이터 저장소 설계

   1. 물리 데이터 모델링 변환 절차
      1. 개체를 테이블로 변환
      2. 속성을 컬럼으로 변환
      3. UID를 기본키로 변환
      4. 관계를 외래키로 변환
      5. 컬럼 유형과 길이 정의
      6. 반 정규화 수행

   2. 물리 데이터 저장소 구성

      1. 제약 조건 설계

         - 참조 무결성 제약 조건

           릴레이션과 릴레이션 사이에 대해 참조의 일관성을 보장하기 위한 것. 대표적으로 삭제할 때 많이 일어남

           - 제한: 참조 무결성 원칙을 위하 해당 연산을 거절
           - 연쇄: 참조 무결성 원칙을 위해 참조하는 데이터도 같이 연산 수행
           - 널값: 참조되는 값을 null로 바꿈