# 상태관리, 이제 recoil하세요

[영상 원본](https://youtu.be/0-UaleJZOw8)

- 다양한 상태관리 라이브러리가 있다
  - 리덕스
    - 그래도 여전히 사람들이 많이 이용한다
    - 하지만 제약사항은 여전히 문제가 있다
    - 즉, 익숙하지만 여전히 번거롭다
  - MobX
    - 쉽지만 리액트같지 않다
  - Context API
    - 복잡성이 커지면 분리가 어려움
  - react-query
    - 살짝 부족
- recoil
  - 페이스북이 만들고 간결함이 있어 매력적
  - 그러니 알아보자
  - 핵심 컨셉
    - react 내부상태만 이용
    - 작음 atom 단위로 관리
    - 순수함수 selector
    - re-render최소화
    - 데이터 흐름을 따라서
    - 새 react 기능과 호환성을 기대할 수 있음
  - component에서는 atom의 상태를 가져오고 변경할 수 있는 형태이다.
  - 쓰기 전용이 있고 읽기 전용이 따로 있다
    - selector
      - getter/setter을 같이 정의했는가 아닌가로 읽기전용 쓰기 전용으로 작성이 가능하다
      - 순수함수
  - 비동기 데이터를 갱신하는 방법
    - 영향을 주는 요소
      - 내부에서 구독중인 다른 recoil state의 변경을 감지한 경우
      - 요청 파라메터가 완전 새로운 값으로 변경된 경우
    - 갱신을 위한 atom을 하나 만들어둔다
      - 그리고 refresh를 위한 function을 만들어두고 해당 함수가 갱신을 위한 atom에 작용하도록 한다
      - 대신 의존관계에 대해 주의해야한다
    - selector 대신 atom으로 데이터 관리하는 방식도 있다
      - useEffect의 디펜던시를 추가해서 갱신하게 하는 작동을 하면 된다